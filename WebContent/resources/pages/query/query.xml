<?xml version="1.0" encoding="UTF-8"?>
<Page id = "query" showinFrame ="true"  title ="Query Builder| Rainbow CRM" Object = "com.rainbow.framework.query.model.Query" 
Controller = "com.rainbow.framework.query.controller.QueryController">
<Template type= "General"  name = "generalTemplate"></Template>

<IncludeJS>./scripts/query/QueryFunc.js</IncludeJS>

<Elements>
<UIForm Id ="frmdd" method = "POST"  >
<Section type ="topBar"></Section> 
<Section type ="leftsideBarApp"></Section>
<CoreSection>
<ErrorSection>
</ErrorSection>
<Section type= "mainSection">

<Element type = "UITable" rows = "3" cols = "2" style = "grid" applyStyleonChildren ="true" Id  ="tblcommon"  >
<Element type = "UITableRow"   >
<Element type = "UITableCol"   >

<Element label = "Saved_Queries"  type = "UIList" Id = "lstQueries" >
	<options populator =  "getAllQueries"> 
	</options>
</Element>
</Element>

<Element type = "UITableCol"   >

<Element label = "Query_Name"  type = "UIText" Id = "txtQryName"  >
	
</Element>
</Element>
</Element>


<Element type = "UITableRow"   >
<Element type = "UITableCol"   >

<Element label = "Transaction"  type = "UIList" Id = "lstTrans"  isMandatory="true" property ="entity" >
	<options populator =  "getAllEntities"> 
	</options>
</Element>
</Element>

<Element type = "UITableCol"   >

<Element label = "Division"  type = "UIList" Id = "lstInvDivision"  isMandatory="true" property ="Division.Id" >
	<options populator =  "getAllDivisions"> 
	</options>
</Element>

</Element>
</Element>

<Element type = "UITableRow"   >
<Element type = "UITableCol"   >
 <Element label = ""  type = "UIRadioBox" Id = "txtDteType"   property ="dateValueType" >
	  <options> 
	  <option key ="ABS"> Absolute Dates</option>
	  </options>
	</Element>
</Element>

<Element type = "UITableCol"   >

<Element label = "From"  type = "UIDate" Id = "txtFromDate"  isMandatory="true" property ="fromDate" />
<Element label = "To"  type = "UIDate" Id = "txtToDate"  isMandatory="true" property ="toDate" />
</Element>
</Element>

<Element type = "UITableRow"   >
<Element type = "UITableCol"   >
<Element label = ""  type = "UIRadioBox" Id = "txtDteType"   property ="dateValueType" >
	  <options> 
	  <option key ="REL"> Relative Dates</option>
	  </options>
	</Element>
</Element>

<Element type = "UITableCol"   >


<Element label = "From"  type = "UIList" Id = "lstFromDate"  isMandatory="true" property ="fromCriteria.code" >
<options populator =  "getEvaluationPeriods"> 
	</options>
</Element>
<Element label = "To"  type = "UIList" Id = "lstToDate"  isMandatory="true" property ="toCriteria.code" >
<options populator =  "getEvaluationPeriods"> 
	</options>
</Element>

</Element>

</Element>
</Element>


<Element type ="UITabset" Id = "configSet" style = "uitabstyle" selectedTabStyle= "titleStyleSelected active nav-link" unSelectedTabStyle ="titleStyleUnSelected nav-link" >
<Element type ="UITab" Id= "idGeneral" title = "List"   >

<Element type = "UITable" rows = "3" cols = "2" style = "grid" applyStyleonChildren ="true" Id  ="tblList"  >
<Element type = "UITableRow"   >
<Element type = "UITableCol"  align="left" >

<Element type = "UIList"  label = "Fields" size="8" multiple="true" Id= "lstAllFieldsEntity"  property = "selectedFields"  >
<options populator =  "getAllEntityFields"> 
	</options>
</Element>
</Element>
<Element type = "UITableCol"  align="left" >

<Element type = "UITable" rows = "1" cols = "7" style = "grid" applyStyleonChildren ="true" Id  ="tblTrans" property ="conditions[]" >
<Element type = "UITableHead" style ="listPageTitle">
 <Element type = "UITableRow">
 <Element type ="UITableCol" width = "3%" ><Element label = ""  type = "UILabel" Id = "lblTit1" value ="(" /></Element>
 <Element type ="UITableCol" width = "30%" ><Element label = ""  type = "UILabel" Id = "lblTit2" value ="Field" /></Element>
 <Element type ="UITableCol" width = "5%" ><Element label = ""  type = "UILabel" Id = "lblTit3" value ="Op" /></Element>
 <Element type ="UITableCol" width = "30%" ><Element label = ""  type = "UILabel" Id = "lblTit4" value ="Value" /></Element>

 <Element type ="UITableCol" width = "3%" ><Element label = ""  type = "UILabel" Id = "lblTit1" value =")" /></Element>
  <Element type ="UITableCol" width = "20%" ><Element label = ""  type = "UILabel" Id = "lblTit5" value =".." /></Element>
</Element>
</Element>
<Element type = "UITableRow"  dataType = "com.rainbow.framework.query.model.QueryCondition" >

<Element type ="UITableCol" width = "3%" ><Element type = "UIText"  size="3"  id= "txtOpBrac" property ="openBrackets"   /></Element>

<Element type ="UITableCol" width = "30%" >
<Element type = "UIList"    id= "lstCritFieldsEntity"   property ="field" >
<options populator =  "getAllEntityFields"> 
	</options>
</Element>
</Element>

<Element type ="UITableCol" width = "5%" >
<Element type = "UIList"    id= "lstOpts"   property ="operator" >
<options populator =  "getOperators"> 
	</options>
</Element>
</Element>

<Element type ="UITableCol" width = "30%" ><Element type = "UIText"    id= "txtVales" property ="value"   /></Element>

<Element type ="UITableCol" width = "3%" ><Element type = "UIText"  size="3"  id= "txtCloseBrac" property ="closeBrackets"   /></Element>

<Element type ="UITableCol" width = "10%">
	<Element caption = "AND"  type = "UIButton" Id = "btnAddRow"    fixedAction ="FixedAction.ACTION_ADDTABLEROW"  fixedActionParam =  "this"/>
	<Element caption = "OR"  type = "UIButton" Id = "btnDelRow"    fixedAction ="FixedAction.ACTION_ADDTABLEROW"  fixedActionParam =  "this"/>
	<Element caption = "-"  type = "UIButton" Id = "btnDelRow"    fixedAction ="FixedAction.ACTION_DELETETABLEROW"  fixedActionParam =  "this"/>
</Element>

</Element>

</Element>



</Element>


</Element>
</Element>

</Element>
<Element type ="UITab" Id= "idcustMgmt" title = "Aggregates"   >
</Element>
</Element>


</Section>
</CoreSection>
 <Section type ="summary"  >
<Element caption = "Query"  type = "UIButton" Id = "btdwLoad"  style="button"  
  fixedAction ="FixedAction.ACTION_PLAINSUBMIT"   />
 </Section>

<Section type ="copyRightSection"/>
</UIForm>
</Elements>
</Page>
