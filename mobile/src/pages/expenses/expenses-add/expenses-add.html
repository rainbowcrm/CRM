<!--

  See http://ionicframework.com/docs/v2/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar>
    <ion-title>New Expense</ion-title>
  </ion-navbar>

</ion-header>


<ion-content padding>
 <ps-error [message]="errorMessage" [type]="'error'"></ps-error>
  <form #expenseAddForm="ngForm">
    <ion-grid>
     <ion-row>
       <ion-col>
         <ion-item>
          <ion-textarea [(ngModel)]="model.AssociateComments" name="associateComments" #associateComments="ngModel" placeholder="Associate Comments">
           
          </ion-textarea>
         </ion-item>
       </ion-col>
     </ion-row>
     <ion-row>
       <ion-col>
         <ion-item>
          <ion-textarea [(ngModel)]="model.ManagerComments" name="managerComments" #managerComments="ngModel" placeholder="Manager Comments">
           
          </ion-textarea>
         </ion-item>
       </ion-col>
     </ion-row>
     <ion-row>
       <ion-col>
         <ion-item>
           <ion-label floating>Requested Amount</ion-label>
           <ion-input type="text" [(ngModel)]="model.RequestedTotal" name="requestedAmount" #requestedAmount="ngModel" disabled required></ion-input>
         </ion-item>
      </ion-col>
     </ion-row>
    </ion-grid>
      
  </form>
  <ion-slides pager>
   <ion-slide *ngFor="let expenseLine of expenseLines" >
     <ion-card (click)="editExpenseLine(expenseLine)">
      <ion-card-header>
         {{expenseLine.ExpenseHead.Name}}
         <ion-icon name="close-circle" (click)="deleteExpenseLine(expenseLine.LineNumber)"></ion-icon>
      </ion-card-header>
      <ion-card-content>
        <h3><strong>Requested Amount</strong>{{expenseLine.RequestedAmount}}</h3>
        <h3><strong>Corrected Amount</strong>{{expenseLine.CorrectedAmount}}</h3>
        <p>{{expenseLine.AssociateComments}}</p>
     </ion-card-content>
     </ion-card>
   </ion-slide>
  </ion-slides>
  <div class="button-container">
  <button ion-button [disabled]="expenseLines.length == 0 || model.AssociateComments.length==0" (click)="addExpense()">Add Expense</button>
</div>
 <ion-fab right bottom>
    <button ion-fab (click)="addExpenseLine()"><ion-icon name="add"></ion-icon></button>
 </ion-fab>
</ion-content>
