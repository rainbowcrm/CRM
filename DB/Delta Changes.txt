--10-10-16

INSERT INTO FINITE_VALUE_TYPE (CODE, DESCRIPTION) VALUES ('CONTTYPE','CONTACT TYPE');

INSERT INTO FINITE_VALUES(CODE,TYPE_CODE,DESCRIPTION) VALUES ('VENDOR','CONTTYPE','Vendor');
INSERT INTO FINITE_VALUES(CODE,TYPE_CODE,DESCRIPTION) VALUES ('CUSTOMER','CONTTYPE','Customer');
INSERT INTO FINITE_VALUES(CODE,TYPE_CODE,DESCRIPTION) VALUES ('POTCUST','CONTTYPE','Potential Customer');
INSERT INTO FINITE_VALUES(CODE,TYPE_CODE,DESCRIPTION) VALUES ('TRANSPORT','CONTTYPE','Transporter');
INSERT INTO FINITE_VALUES(CODE,TYPE_CODE,DESCRIPTION) VALUES ('AGENT','CONTTYPE','Sales Agent');
INSERT INTO FINITE_VALUES(CODE,TYPE_CODE,DESCRIPTION) VALUES ('BPARTNER','CONTTYPE','Business Partner');




CREATE TABLE CONTACTS (
ID INT PRIMARY KEY AUTO_INCREMENT,
COMPANY_ID INT NOT NULL,
FIRST_NAME VARCHAR(50)  NOT NULL,
LAST_NAME VARCHAR(50)  NOT NULL,
DESCRIPTION VARCHAR(100),
PHONE VARCHAR(50) NOT NULL  ,
EMAIL VARCHAR(50) NOT NULL ,
CONTACT_TYPE VARCHAR(10),
ADDRESS1 VARCHAR(50),
ADDRESS2 VARCHAR(50),
ZIPCODE VARCHAR(50),
CITY VARCHAR(50),
LANDMARK VARCHAR(100),
ALTERNATEPHONE VARCHAR(50), 
IS_DELETED BOOLEAN DEFAULT FALSE,
CREATED_DATE DATETIME,
LAST_UPDATED_DATE DATETIME,
CREATED_BY VARCHAR(50),
LAST_UPDATED_BY VARCHAR(50),
VERSION INT DEFAULT 1,
FOREIGN KEY (COMPANY_ID) REFERENCES COMPANIES(ID),
FOREIGN KEY (CONTACT_TYPE) REFERENCES FINITE_VALUES(CODE)
);

INSERT INTO METADATA(ENTITY,CLASS_NAME) VALUES('CONTACT','com.rainbow.crm.contact.model.Contact');
----------------------

11-10-16
_________________________________________

CREATE TABLE FOLLOWUPS (
ID INT PRIMARY KEY AUTO_INCREMENT,
COMPANY_ID INT NOT NULL,
SALESLEAD_ID INT NOT NULL,
CONVERSATION BLOB,
CONFIDENCE_LEVEL VARCHAR(10),
COMMUNICATION_MODE VARCHAR(10),
OFFERED_PRICE FLOAT,
SALES_ASSOCIATE VARCHAR(50),
NEXT_FOLLOWUP DATETIME,
FINAL_FOLLOWUP BOOLEAN DEFAULT FALSE,
RESULT VARCHAR(10),
RESULT_REASON VARCHAR(10) ,
SALESASSOC_COMMENTS BLOB
IS_DELETED BOOLEAN DEFAULT FALSE,
CREATED_DATE DATETIME,
LAST_UPDATED_DATE DATETIME,
CREATED_BY VARCHAR(50),
LAST_UPDATED_BY VARCHAR(50),
VERSION INT DEFAULT 1,
FOREIGN KEY (COMPANY_ID) REFERENCES COMPANIES(ID),
FOREIGN KEY (CONFIDENCE_LEVEL) REFERENCES FINITE_VALUES(CODE),
FOREIGN KEY (SALESLEAD_ID) REFERENCES SALES_LEADS(ID),
FOREIGN KEY (COMMUNICATION_MODE) REFERENCES FINITE_VALUES(CODE),
FOREIGN KEY (RESULT) REFERENCES FINITE_VALUES(CODE),
FOREIGN KEY (RESULT_REASON) REFERENCES FINITE_VALUES(CODE)
);


INSERT INTO FINITE_VALUE_TYPE (CODE, DESCRIPTION) VALUES ('COMMMODE', 'MODE OF COMMUNICATION');
INSERT INTO FINITE_VALUE_TYPE (CODE, DESCRIPTION) VALUES ('CONFLEVEL', 'LEVEL OF CONFIDENCE');
INSERT INTO FINITE_VALUE_TYPE (CODE, DESCRIPTION) VALUES ('FLPRESULT', 'FOLLOW UP RESULT');
INSERT INTO FINITE_VALUE_TYPE (CODE, DESCRIPTION) VALUES ('SUCCREAS', 'REASON FOR SALE');
INSERT INTO FINITE_VALUE_TYPE (CODE, DESCRIPTION) VALUES ('FAILREAS', 'REASON FOR NO/SALE');

INSERT INTO FINITE_VALUES(CODE,TYPE_CODE,DESCRIPTION) VALUES ('PHONE','COMMMODE','Telephone');
INSERT INTO FINITE_VALUES(CODE,TYPE_CODE,DESCRIPTION) VALUES ('EMAIL','COMMMODE','Email');
INSERT INTO FINITE_VALUES(CODE,TYPE_CODE,DESCRIPTION) VALUES ('PERSVISIT','COMMMODE','Personal visit to Customer');
INSERT INTO FINITE_VALUES(CODE,TYPE_CODE,DESCRIPTION) VALUES ('PREMVISIT','COMMMODE','Customer visiting facility');

INSERT INTO FINITE_VALUES(CODE,TYPE_CODE,DESCRIPTION) VALUES ('HIGHCONF','CONFLEVEL','High level of confidence');
INSERT INTO FINITE_VALUES(CODE,TYPE_CODE,DESCRIPTION) VALUES ('UPMEDCONF','CONFLEVEL','Upper-Medium level of confidence');
INSERT INTO FINITE_VALUES(CODE,TYPE_CODE,DESCRIPTION) VALUES ('MEDCONF','CONFLEVEL','Medium level of confidence');
INSERT INTO FINITE_VALUES(CODE,TYPE_CODE,DESCRIPTION) VALUES ('LOWMEDCONF','CONFLEVEL','Lower-Medium level of confidence');
INSERT INTO FINITE_VALUES(CODE,TYPE_CODE,DESCRIPTION) VALUES ('LOWCONF','CONFLEVEL','Low level of confidence');

INSERT INTO FINITE_VALUES(CODE,TYPE_CODE,DESCRIPTION) VALUES ('SOLD','FLPRESULT','Sold');
INSERT INTO FINITE_VALUES(CODE,TYPE_CODE,DESCRIPTION) VALUES ('SLPENDING','FLPRESULT','Pending');
INSERT INTO FINITE_VALUES(CODE,TYPE_CODE,DESCRIPTION) VALUES ('NOSALE','FLPRESULT','No Sale');
INSERT INTO FINITE_VALUES(CODE,TYPE_CODE,DESCRIPTION) VALUES ('PARTSALE','FLPRESULT','Partial Sale');


INSERT INTO FINITE_VALUES(CODE,TYPE_CODE,DESCRIPTION) VALUES ('CUSTDESIRE','SUCCREAS','Desire of customer');
INSERT INTO FINITE_VALUES(CODE,TYPE_CODE,DESCRIPTION) VALUES ('LOWERPRICE','SUCCREAS','Price reduction');
INSERT INTO FINITE_VALUES(CODE,TYPE_CODE,DESCRIPTION) VALUES ('PERSUATION','SUCCREAS','Persuation');
INSERT INTO FINITE_VALUES(CODE,TYPE_CODE,DESCRIPTION) VALUES ('POSREP','SUCCREAS','Positive Reputation from other sources');
INSERT INTO FINITE_VALUES(CODE,TYPE_CODE,DESCRIPTION) VALUES ('REFERENCE','SUCCREAS','Reference/Recommendation from other customers');
INSERT INTO FINITE_VALUES(CODE,TYPE_CODE,DESCRIPTION) VALUES ('CUSTSATISF','SUCCREAS','Customer Satisfaction from previous sales');

INSERT INTO FINITE_VALUES(CODE,TYPE_CODE,DESCRIPTION) VALUES ('HIGHPRICE','FAILREAS','Higher Price');
INSERT INTO FINITE_VALUES(CODE,TYPE_CODE,DESCRIPTION) VALUES ('UNAVLBLE','FAILREAS','Unavailability of prod specification');
INSERT INTO FINITE_VALUES(CODE,TYPE_CODE,DESCRIPTION) VALUES ('SLSNEGL','FAILREAS','Negligence from sales');
INSERT INTO FINITE_VALUES(CODE,TYPE_CODE,DESCRIPTION) VALUES ('CUSTDISS','FAILREAS','Customer dissatisfaction from previous sales');
INSERT INTO FINITE_VALUES(CODE,TYPE_CODE,DESCRIPTION) VALUES ('NEGREP','FAILREAS','Negative reputation from other sources');
INSERT INTO FINITE_VALUES(CODE,TYPE_CODE,DESCRIPTION) VALUES ('COMPET','FAILREAS','Lost to competition');
INSERT INTO FINITE_VALUES(CODE,TYPE_CODE,DESCRIPTION) VALUES ('UNIDENT','FAILREAS','Unidentified reason');
__________________________________________________________________________________________________________________
23-OCT-16
Delete from finite_values where type_code = 'CONFLEVEL';

INSERT INTO FINITE_VALUES(CODE,TYPE_CODE,DESCRIPTION) VALUES ('HIGHCONF','CONFLEVEL','High');
INSERT INTO FINITE_VALUES(CODE,TYPE_CODE,DESCRIPTION) VALUES ('UPMEDCONF','CONFLEVEL','Upper-Medium');
INSERT INTO FINITE_VALUES(CODE,TYPE_CODE,DESCRIPTION) VALUES ('MEDCONF','CONFLEVEL','Medium');
INSERT INTO FINITE_VALUES(CODE,TYPE_CODE,DESCRIPTION) VALUES ('LOWMEDCONF','CONFLEVEL','Lower-Medium');
INSERT INTO FINITE_VALUES(CODE,TYPE_CODE,DESCRIPTION) VALUES ('LOWCONF','CONFLEVEL','Low');
__________________________________________________________________________________________________________________
25-0ct-16
INSERT INTO METADATA(ENTITY,CLASS_NAME) VALUES('FOLLOWUP','com.rainbow.crm.followup.model.Followup');
________________________
5- nov -11

CREATE TABLE ALERTS (
ID INT PRIMARY KEY AUTO_INCREMENT,
COMPANY_ID INT NOT NULL,
DIVISION_ID INT NOT NULL,
RAISED_DATE DATETIME NOT NULL,
ACTION_DATE DATETIME,
ACKNO_DATE DATETIME ,
ALERT_TYPE VARCHAR(10) NOT NULL,
STATUS VARCHAR(10) NOT NULL,
OWNER  VARCHAR(50),
RAISED_BY VARCHAR(50),
DATA VARCHAR(50) NOT NULL,
URL VARCHAR(100),
IS_DELETED BOOLEAN DEFAULT FALSE,
CREATED_DATE DATETIME,
LAST_UPDATED_DATE DATETIME,
CREATED_BY VARCHAR(50),
LAST_UPDATED_BY VARCHAR(50),
VERSION INT DEFAULT 1,
FOREIGN KEY (COMPANY_ID) REFERENCES COMPANIES(ID),
FOREIGN KEY (DIVISION_ID) REFERENCES DIVISIONS(ID),
FOREIGN KEY (ALERT_TYPE) REFERENCES FINITE_VALUES(CODE),
FOREIGN KEY (STATUS) REFERENCES FINITE_VALUES(CODE),
FOREIGN KEY (OWNER) REFERENCES USERS(USER_ID)
);

INSERT INTO FINITE_VALUE_TYPE (CODE, DESCRIPTION) VALUES ('ALTTYPE', 'ALERT TYPE');
INSERT INTO FINITE_VALUE_TYPE (CODE, DESCRIPTION) VALUES ('ALTSTATUS', 'ALERT STATUS');

INSERT INTO FINITE_VALUES(CODE,TYPE_CODE,DESCRIPTION) VALUES ('ALTSLSLEAD','ALTTYPE','Sales Lead Alert');
INSERT INTO FINITE_VALUES(CODE,TYPE_CODE,DESCRIPTION) VALUES ('ALTFLLWUP','ALTTYPE','Follow Up Date');
INSERT INTO FINITE_VALUES(CODE,TYPE_CODE,DESCRIPTION) VALUES ('ALTINVSHRT','ALTTYPE','Inventory Shortage');
INSERT INTO FINITE_VALUES(CODE,TYPE_CODE,DESCRIPTION) VALUES ('ALTAPP','ALTTYPE','Appointment for the day');



INSERT INTO FINITE_VALUES(CODE,TYPE_CODE,DESCRIPTION) VALUES ('ALTOPN','ALTSTATUS','Open');
INSERT INTO FINITE_VALUES(CODE,TYPE_CODE,DESCRIPTION) VALUES ('ALTACK','ALTSTATUS','Acknowledged');
INSERT INTO FINITE_VALUES(CODE,TYPE_CODE,DESCRIPTION) VALUES ('ALTVOID','ALTSTATUS','Voided');
INSERT INTO FINITE_VALUES(CODE,TYPE_CODE,DESCRIPTION) VALUES ('ALTEXPRD','ALTSTATUS','Expired');
_________________________________________________________________________________________________________________________________

17-nov-11

ALTER TABLE  SALES_PERIODS ADD IS_START_ALERTED BOOLEAN DEFAULT FALSE;
ALTER TABLE  SALES_PERIODS ADD IS_END_ALERTED BOOLEAN DEFAULT FALSE;
ALTER TABLE  SALES_LEADS ADD IS_ALERTED BOOLEAN DEFAULT FALSE;
ALTER TABLE  FOLLOWUPS ADD IS_ALERTED BOOLEAN DEFAULT FALSE;

INSERT INTO FINITE_VALUES(CODE,TYPE_CODE,DESCRIPTION) VALUES ('ALTSPBEGIN','ALTTYPE','Sales Period Begin');
INSERT INTO FINITE_VALUES(CODE,TYPE_CODE,DESCRIPTION) VALUES ('ALTSPEND','ALTTYPE','Sales Period End');
________________________________________________________________________________________________________________________________
7-DEC-11

INSERT INTO FINITE_VALUES(CODE,TYPE_CODE,DESCRIPTION) VALUES ('ALTDLVDUE','ALTTYPE','Delivery Due');
INSERT INTO FINITE_VALUES(CODE,TYPE_CODE,DESCRIPTION) VALUES ('ALTPYMDUE','ALTTYPE','Payment Due');


INSERT INTO FINITE_VALUE_TYPE (CODE, DESCRIPTION) VALUES ('DLVMODE', 'DELIVERY MODE');


INSERT INTO FINITE_VALUES(CODE,TYPE_CODE,DESCRIPTION) VALUES ('PICKUP','DLVMODE','Pickup at source');
INSERT INTO FINITE_VALUES(CODE,TYPE_CODE,DESCRIPTION) VALUES ('COURIER','DLVMODE','Delivery by courier');
INSERT INTO FINITE_VALUES(CODE,TYPE_CODE,DESCRIPTION) VALUES ('INTERN','DLVMODE','Delivery by internal transport');
INSERT INTO FINITE_VALUES(CODE,TYPE_CODE,DESCRIPTION) VALUES ('POSTAL','DLVMODE','Delivery by Postal Service');

ALTER TABLE SALES ADD  IS_FUTUREDELIVERY BOOLEAN DEFAULT FALSE ;
ALTER TABLE SALES ADD DELIVERY_MODE VARCHAR(10);
ALTER TABLE SALES ADD DELIVERY_AGENT VARCHAR(100) ;
ALTER TABLE SALES ADD DELIVERY_DATE  DATETIME ;
ALTER TABLE SALES ADD PAYMENT_DUE_DATE DATETIME ;

ALTER TABLE SALES ADD FOREIGN KEY (DELIVERY_MODE) REFERENCES FINITE_VALUES(CODE);

_______________________________________________________________________________________________________

14- DEC - 11

INSERT INTO FINITE_VALUE_TYPE (CODE, DESCRIPTION) VALUES ('SLORDTYPE', 'SALES ORDER TYPE');

INSERT INTO FINITE_VALUES(CODE,TYPE_CODE,DESCRIPTION) VALUES ('ECOM','SLORDTYPE','E-Commerce Order');
INSERT INTO FINITE_VALUES(CODE,TYPE_CODE,DESCRIPTION) VALUES ('STRSALE','SLORDTYPE','Store Sale');
INSERT INTO FINITE_VALUES(CODE,TYPE_CODE,DESCRIPTION) VALUES ('CNTRACT','SLORDTYPE','Contract');

ALTER TABLE SALES ADD ORDER_TYPE VARCHAR(10);
________________________________________________________________________________________________________

18-DEC-16

INSERT INTO FINITE_VALUE_TYPE (CODE, DESCRIPTION) VALUES ('ADDTYPE', 'ADDRESS TYPE');

INSERT INTO FINITE_VALUES(CODE,TYPE_CODE,DESCRIPTION) VALUES ('BLLNG','ADDTYPE','Billing');
INSERT INTO FINITE_VALUES(CODE,TYPE_CODE,DESCRIPTION) VALUES ('SHPPRM','ADDTYPE','Shipping Primary');
INSERT INTO FINITE_VALUES(CODE,TYPE_CODE,DESCRIPTION) VALUES ('SHPSEC','ADDTYPE','Shipping Secondary');


CREATE TABLE ADDRESSES (
ID INT PRIMARY KEY AUTO_INCREMENT,
COMPANY_ID INT NOT NULL,
DIVISION_ID INT NOT NULL,
CUSTOMER_ID INT,
ADDRESS_TYPE VARCHAR(10) NOT NULL,
RECIPIENT VARCHAR(50) NOT NULL,
ADDRESS1 VARCHAR(50) NOT NULL,
ADDRESS2 VARCHAR(50) NOT NULL,
ZIPCODE VARCHAR(40) NOT NULL,
CITY VARCHAR(40) NOT NULL,
STATE VARCHAR(40) NOT NULL,
COUNTRY VARCHAR(40),
PHONE VARCHAR(40),
EMAIL VARCHAR(40),
IS_DELETED BOOLEAN DEFAULT FALSE,
CREATED_DATE DATETIME,
LAST_UPDATED_DATE DATETIME,
CREATED_BY VARCHAR(50),
LAST_UPDATED_BY VARCHAR(50),
VERSION INT DEFAULT 1,
FOREIGN KEY (COMPANY_ID) REFERENCES COMPANIES(ID),
FOREIGN KEY (DIVISION_ID) REFERENCES DIVISIONS(ID),
FOREIGN KEY (ADDRESS_TYPE) REFERENCES FINITE_VALUES(CODE),
FOREIGN KEY (CUSTOMER_ID) REFERENCES CUSTOMERS(ID)
);

__________________________________________________________________________________________________________

19 DESC

ALTER TABLE SALES ADD DELIVERY_ADDRESS_ID INT;

ALTER TABLE SALES ADD FOREIGN KEY (DELIVERY_ADDRESS_ID) REFERENCES ADDRESSES(ID);


ALTER TABLE ADDRESSES DROP FOREIGN KEY  addresses_ibfk_2;
ALTER TABLE ADDRESSES DROP FOREIGN KEY FKlj5s9f32rgq29vbruh84ufv0;
ALTER TABLE ADDRESSES DROP DIVISION_ID;
_____________________________________________________________________________________________________________
21 deF

CREATE TABLE CUSTOMER_CATEGORIES (
ID INT PRIMARY KEY AUTO_INCREMENT,
COMPANY_ID INT NOT NULL,
NAME VARCHAR(50) NOT NULL,
EVAL_FROM VARCHAR(10) NOT NULL,
EVAL_TO VARCHAR(10) NOT NULL,
EVAL_CRITERIA VARCHAR(10) NOT NULL,
MIN_VALUE FLOAT NOT NULL,
MAX_VALUE FLOAT NOT NULL,
INCLUDE_RETURNS BOOLEAN DEFAULT FALSE,
EXCLUDE_CUST BLOB ,
IS_DELETED BOOLEAN DEFAULT FALSE,
CREATED_DATE DATETIME,
LAST_UPDATED_DATE DATETIME,
CREATED_BY VARCHAR(50),
LAST_UPDATED_BY VARCHAR(50),
VERSION INT DEFAULT 1,
FOREIGN KEY (COMPANY_ID) REFERENCES COMPANIES(ID),
FOREIGN KEY (EVAL_FROM) REFERENCES FINITE_VALUES(CODE),
FOREIGN KEY (EVAL_TO) REFERENCES FINITE_VALUES(CODE),
FOREIGN KEY (EVAL_CRITERIA) REFERENCES FINITE_VALUES(CODE)
);


INSERT INTO FINITE_VALUE_TYPE (CODE, DESCRIPTION) VALUES ('EVALDATE', 'EVALUATION DATE');
INSERT INTO FINITE_VALUE_TYPE (CODE, DESCRIPTION) VALUES ('EVALCRT', 'EVALUATION CRITERIA');


INSERT INTO FINITE_VALUES(CODE,TYPE_CODE,DESCRIPTION) VALUES ('TODAY','EVALDATE','Today');
INSERT INTO FINITE_VALUES(CODE,TYPE_CODE,DESCRIPTION) VALUES ('LSTWEEK','EVALDATE','Last Week');
INSERT INTO FINITE_VALUES(CODE,TYPE_CODE,DESCRIPTION) VALUES ('LSTMNTH','EVALDATE','Last Month');
INSERT INTO FINITE_VALUES(CODE,TYPE_CODE,DESCRIPTION) VALUES ('LSTTWOMNTH','EVALDATE','Last Two Months');
INSERT INTO FINITE_VALUES(CODE,TYPE_CODE,DESCRIPTION) VALUES ('LSTTHRMNTH','EVALDATE','Last Three Months');
INSERT INTO FINITE_VALUES(CODE,TYPE_CODE,DESCRIPTION) VALUES ('LSTSIXMNTH','EVALDATE','Last Six Months');
INSERT INTO FINITE_VALUES(CODE,TYPE_CODE,DESCRIPTION) VALUES ('LSTYR','EVALDATE','Last Year');
INSERT INTO FINITE_VALUES(CODE,TYPE_CODE,DESCRIPTION) VALUES ('LSTTWOYR','EVALDATE','Last Two Year');
INSERT INTO FINITE_VALUES(CODE,TYPE_CODE,DESCRIPTION) VALUES ('LSTTHRYR','EVALDATE','Last Three Year');

INSERT INTO FINITE_VALUES(CODE,TYPE_CODE,DESCRIPTION) VALUES ('QTY','EVALCRT','Quantity');
INSERT INTO FINITE_VALUES(CODE,TYPE_CODE,DESCRIPTION) VALUES ('AMT','EVALCRT','Amount');
_________________________________________________________________________________________________________________________________

25 dec


CREATE TABLE CONFIG_GROUPS (
GROUP_NAME VARCHAR(50) PRIMARY KEY NOT NULL
);

CREATE TABLE BASE_CONFIGURATION (
CODE VARCHAR(20) PRIMARY KEY ,
CONFIG_DESCRIPTION VARCHAR(50) NOT NULL,
CONFIG_GROUP VARCHAR(50) NOT NULL,
VALUE_TYPE VARCHAR(10) NOT NULL,
VALUE_GENERATOR VARCHAR(10),
DEFAULT_VALUE VARCHAR(50),
FOREIGN KEY (CONFIG_GROUP) REFERENCES CONFIG_GROUPS(GROUP_NAME),
FOREIGN KEY (VALUE_TYPE) REFERENCES FINITE_VALUES(CODE)
);
CREATE TABLE COMPANY_CONFIGURATION (
ID INT PRIMARY KEY AUTO_INCREMENT,
CONFIG_CODE VARCHAR(20) NOT NULL,
COMPANY_ID INT NOT NULL,
VALUE VARCHAR(50) ,
CREATED_DATE DATETIME,
LAST_UPDATED_DATE DATETIME,
CREATED_BY VARCHAR(50),
LAST_UPDATED_BY VARCHAR(50),
VERSION INT DEFAULT 1,
FOREIGN KEY (CONFIG_CODE) REFERENCES BASE_CONFIGURATION(CODE),
FOREIGN KEY (COMPANY_ID) REFERENCES COMPANIES(ID)
);


INSERT INTO FINITE_VALUE_TYPE (CODE, DESCRIPTION) VALUES ('CONFVALTYP', 'CONFIGURATION VALUE TYPES');
INSERT INTO FINITE_VALUE_TYPE (CODE, DESCRIPTION) VALUES ('USRPRIVTYP', 'USER PRIVILEGE TYPES');


INSERT INTO FINITE_VALUES(CODE,TYPE_CODE,DESCRIPTION) VALUES ('NUMER','CONFVALTYP','Numeric Values');
INSERT INTO FINITE_VALUES(CODE,TYPE_CODE,DESCRIPTION) VALUES ('STR','CONFVALTYP','String Value');
INSERT INTO FINITE_VALUES(CODE,TYPE_CODE,DESCRIPTION) VALUES ('FINVAL','CONFVALTYP','Finite Values');
INSERT INTO FINITE_VALUES(CODE,TYPE_CODE,DESCRIPTION) VALUES ('BOOL','CONFVALTYP','Boolean Values');

INSERT INTO FINITE_VALUES(CODE,TYPE_CODE,DESCRIPTION) VALUES ('ALLUSR','USRPRIVTYP','All Users');
INSERT INTO FINITE_VALUES(CODE,TYPE_CODE,DESCRIPTION) VALUES ('MGRUSR','USRPRIVTYP','Managers');
INSERT INTO FINITE_VALUES(CODE,TYPE_CODE,DESCRIPTION) VALUES ('ADMUSR','USRPRIVTYP','Administrator');


INSERT INTO CONFIG_GROUPS(GROUP_NAME) VALUE('General');
INSERT INTO CONFIG_GROUPS(GROUP_NAME) VALUE('Customer Management');
INSERT INTO CONFIG_GROUPS(GROUP_NAME) VALUE('Inventory');
INSERT INTO CONFIG_GROUPS(GROUP_NAME) VALUE('Payment');
INSERT INTO CONFIG_GROUPS(GROUP_NAME) VALUE('Order Management');


INSERT INTO BASE_CONFIGURATION(CODE,CONFIG_DESCRIPTION,CONFIG_GROUP,VALUE_TYPE,VALUE_GENERATOR,DEFAULT_VALUE)
values ('CURRENCY','Company Currency','General','STR',null,'$');
INSERT INTO BASE_CONFIGURATION(CODE,CONFIG_DESCRIPTION,CONFIG_GROUP,VALUE_TYPE,VALUE_GENERATOR,DEFAULT_VALUE)
values ('CONFPRIVIL','Allow Configuration Rights to','General','FINVAL','USRPRIVTYP','MGRUSR');
INSERT INTO BASE_CONFIGURATION(CODE,CONFIG_DESCRIPTION,CONFIG_GROUP,VALUE_TYPE,VALUE_GENERATOR,DEFAULT_VALUE)
values ('ANLREPPRIVIL','Show Analytical reports to','General','FINVAL','USRPRIVTYP','MGRUSR');
INSERT INTO BASE_CONFIGURATION(CODE,CONFIG_DESCRIPTION,CONFIG_GROUP,VALUE_TYPE,VALUE_GENERATOR,DEFAULT_VALUE)
values ('TRGSETPRIV','Show Target Set to','General','FINVAL','USRPRIVTYP','MGRUSR');
INSERT INTO BASE_CONFIGURATION(CODE,CONFIG_DESCRIPTION,CONFIG_GROUP,VALUE_TYPE,VALUE_GENERATOR,DEFAULT_VALUE)
values ('ALLOWRETURNS','Allow Sales Return','General','BOOL',null,'true');



INSERT INTO BASE_CONFIGURATION(CODE,CONFIG_DESCRIPTION,CONFIG_GROUP,VALUE_TYPE,VALUE_GENERATOR,DEFAULT_VALUE)
values ('LOYALTY','Sales Amount required per loyalty point','Customer Management','NUMER',null,null);
INSERT INTO BASE_CONFIGURATION(CODE,CONFIG_DESCRIPTION,CONFIG_GROUP,VALUE_TYPE,VALUE_GENERATOR,DEFAULT_VALUE)
values ('RDMLOYALTY','Amount that can be redeemed per 100 loyalty point','Customer Management','NUMER',null,null);
INSERT INTO BASE_CONFIGURATION(CODE,CONFIG_DESCRIPTION,CONFIG_GROUP,VALUE_TYPE,VALUE_GENERATOR,DEFAULT_VALUE)
values ('RDCLYLTRT','Reduce Loyalty based on returns','Customer Management','BOOL',null,'true');
INSERT INTO BASE_CONFIGURATION(CODE,CONFIG_DESCRIPTION,CONFIG_GROUP,VALUE_TYPE,VALUE_GENERATOR,DEFAULT_VALUE)
values ('LDEMAIL','Tempate to send promotion email','Customer Management','STR',null,'salesLeadEmail.vm');

INSERT INTO BASE_CONFIGURATION(CODE,CONFIG_DESCRIPTION,CONFIG_GROUP,VALUE_TYPE,VALUE_GENERATOR,DEFAULT_VALUE)
values ('TRCKINVEN','Track Inventory','Inventory','BOOL',null,'true');
INSERT INTO BASE_CONFIGURATION(CODE,CONFIG_DESCRIPTION,CONFIG_GROUP,VALUE_TYPE,VALUE_GENERATOR,DEFAULT_VALUE)
values ('ALLWTRAN','Allow Inventory transfer between Divisions','Inventory','BOOL',null,'true');
INSERT INTO BASE_CONFIGURATION(CODE,CONFIG_DESCRIPTION,CONFIG_GROUP,VALUE_TYPE,VALUE_GENERATOR,DEFAULT_VALUE)
values ('ALLWSALE','Allow Sale with no inventory','Inventory','BOOL',null,'true');
INSERT INTO BASE_CONFIGURATION(CODE,CONFIG_DESCRIPTION,CONFIG_GROUP,VALUE_TYPE,VALUE_GENERATOR,DEFAULT_VALUE)
values ('SLSINVPRN','Tempate to print sales invoice','Inventory','STR',null,'salesInvoice.vm');

INSERT INTO BASE_CONFIGURATION(CODE,CONFIG_DESCRIPTION,CONFIG_GROUP,VALUE_TYPE,VALUE_GENERATOR,DEFAULT_VALUE)
values ('CAPTTEND','Capture Tender Details in billing','Payment','BOOL',null,'false');


INSERT INTO BASE_CONFIGURATION(CODE,CONFIG_DESCRIPTION,CONFIG_GROUP,VALUE_TYPE,VALUE_GENERATOR,DEFAULT_VALUE)
values ('MULIDIVSHIP','Allow shipping from multiple divisions','Order Management','BOOL',null,'true');

__________________________________________________________________________________________________________________________
27  DEcc

CREATE TABLE CARRIERS (
ID INT PRIMARY KEY AUTO_INCREMENT,
COMPANY_ID INT NOT NULL,
CARRIER_CODE VARCHAR(20) NOT NULL,
CARRIER_NAME VARCHAR(50) NOT NULL,
ADDRESS_1 VARCHAR(50),
ADDRESS_2 VARCHAR(50),
CITY VARCHAR(50),
ZIPCODE VARCHAR(50),
PHONE VARCHAR(50),
EMAIL VARCHAR(50),
WEBSITE VARCHAR(50),
CREATED_DATE DATETIME,
LAST_UPDATED_DATE DATETIME,
CREATED_BY VARCHAR(50),
LAST_UPDATED_BY VARCHAR(50),
VERSION INT DEFAULT 1,
FOREIGN KEY (COMPANY_ID) REFERENCES COMPANIES(ID)
);


CREATE TABLE DISTRIBUTION_ORDERS (
ID INT PRIMARY KEY AUTO_INCREMENT,
COMPANY_ID INT NOT NULL,
DIVISION_ID INT NOT NULL,
DOC_NUMBER VARCHAR(50) NOT NULL,
SALES_ID INT NOT NULL,
ORDER_DATE DATETIME,
PACK_DATE DATETIME,
CUSTOMER_ID  INT,
CARRIER_ID INT,
DELIVERY_ADDRESS_ID INT,
STATUS VARCHAR(10),
COMMENTS VARCHAR(100),
SHIPPING_DATE DATETIME,
SHIPPING_CHARGES FLOAT,
SHIP_REF_NO VARCHAR(50),
PROCESSING_USER VARCHAR(50),
IS_VOIDED BOOLEAN DEFAULT FALSE,
IS_ALERTED BOOLEAN DEFAULT FALSE,
CREATED_DATE DATETIME,
LAST_UPDATED_DATE DATETIME,
CREATED_BY VARCHAR(50),
LAST_UPDATED_BY VARCHAR(50),
VERSION INT DEFAULT 1,
FOREIGN KEY (COMPANY_ID) REFERENCES COMPANIES(ID),
FOREIGN KEY (DIVISION_ID) REFERENCES DIVISIONS(ID),
FOREIGN KEY (SALES_ID) REFERENCES SALES(ID),
FOREIGN KEY (CARRIER_ID) REFERENCES CARRIERS(ID),
FOREIGN KEY (PROCESSING_USER) REFERENCES USERS(USER_ID),
FOREIGN KEY (DELIVERY_ADDRESS_ID) REFERENCES ADDRESSES(ID)
);

CREATE TABLE DISTRIBUTION_ORDER_LINES (
ID INT PRIMARY KEY ,
ORDER_ID INT NOT NULL,
COMPANY_ID INT NOT NULL,
DOC_NUMBER VARCHAR(50) NOT NULL,
LINE_NUMBER INT NOT NULL,
ITEM_ID INT NOT NULL,
QTY INT NOT NULL,
PICK_DATE DATETIME,
COMMENTS VARCHAR(200),
IS_VOIDED BOOLEAN DEFAULT FALSE,
CREATED_DATE DATETIME,
LAST_UPDATED_DATE DATETIME,
CREATED_BY VARCHAR(50),
LAST_UPDATED_BY VARCHAR(50),
VERSION INT DEFAULT 1,
FOREIGN KEY (COMPANY_ID) REFERENCES COMPANIES(ID),
FOREIGN KEY (ITEM_ID) REFERENCES ITEMS(ID),
FOREIGN KEY (ORDER_ID) REFERENCES DISTRIBUTION_ORDERS(ID)
);
INSERT INTO FINITE_VALUE_TYPE (CODE, DESCRIPTION) VALUES ('DOSTATUS', 'DISTRIBUTION ORDER STATUS');

INSERT INTO FINITE_VALUES(CODE,TYPE_CODE,DESCRIPTION) VALUES ('RLSD','DOSTATUS','Released');
INSERT INTO FINITE_VALUES(CODE,TYPE_CODE,DESCRIPTION) VALUES ('PICKNG','DOSTATUS','Picking');
INSERT INTO FINITE_VALUES(CODE,TYPE_CODE,DESCRIPTION) VALUES ('PACKNG','DOSTATUS','Packing');
INSERT INTO FINITE_VALUES(CODE,TYPE_CODE,DESCRIPTION) VALUES ('SHPPNG','DOSTATUS','Shipping');
INSERT INTO FINITE_VALUES(CODE,TYPE_CODE,DESCRIPTION) VALUES ('DLVD','DOSTATUS','Delivered');


INSERT INTO FINITE_VALUES(CODE,TYPE_CODE,DESCRIPTION) VALUES ('ALTDO','ALTTYPE','Distribution Order Created');

INSERT INTO NEXTUP_CONFIG (COMPANY_ID,PROGRAM,FIELD1_TYPE,FIELD1_WIDTH,FIELD1_VAULE,FIELD2_TYPE,FIELD2_WIDTH,FIELD2_VAULE,FIELD3_TYPE,FIELD3_WIDTH,FIELD3_VAULE,FIELD4_TYPE,FIELD4_WIDTH,FIELD4_VAULE) VALUES ( -1, 'Distribution Order','DIVCODE',4,NULL,'CONSTANT',3,'DO','SEQCOMP',5,NULL,NULL,NULL,NULL);

_____________________________________________________________________________________________________________________________________
30-Dec

INSERT INTO FINITE_VALUES(CODE,TYPE_CODE,DESCRIPTION) VALUES ('PICKD','DOSTATUS','Picked');
INSERT INTO FINITE_VALUES(CODE,TYPE_CODE,DESCRIPTION) VALUES ('PACKD','DOSTATUS','Packed');
INSERT INTO FINITE_VALUES(CODE,TYPE_CODE,DESCRIPTION) VALUES ('SHPPD','DOSTATUS','Shipped');
________________________________________

ALTER TABLE INVENTORY ADD RESERVED_QTY INT 	 ;

ALTER TABLE INVENTORY ADD DAMAGED_QTY INT ;

INSERT INTO METADATA(ENTITY,CLASS_NAME) VALUES('DO','com.rainbow.crm.distrbutionorder.model.DistributionOrder');

INSERT INTO BASE_CONFIGURATION(CODE,CONFIG_DESCRIPTION,CONFIG_GROUP,VALUE_TYPE,VALUE_GENERATOR,DEFAULT_VALUE)
values ('ORDLBLPRIN','Tempate to print Shipping Label','Order Management','STR',null,'shippingLabel.vm');
____________________________________________________________________
4-jan-16

INSERT INTO BASE_CONFIGURATION(CODE,CONFIG_DESCRIPTION,CONFIG_GROUP,VALUE_TYPE,VALUE_GENERATOR,DEFAULT_VALUE)
values ('IMGSRVHST','Image Server Host','General','STR',null,null);
INSERT INTO BASE_CONFIGURATION(CODE,CONFIG_DESCRIPTION,CONFIG_GROUP,VALUE_TYPE,VALUE_GENERATOR,DEFAULT_VALUE)
values ('IMGSRVUSR','Image Server User','General','STR',null,null);
INSERT INTO BASE_CONFIGURATION(CODE,CONFIG_DESCRIPTION,CONFIG_GROUP,VALUE_TYPE,VALUE_GENERATOR,DEFAULT_VALUE)
values ('IMGSRVPWD','Image Server Password','General','STR',null,null);
INSERT INTO BASE_CONFIGURATION(CODE,CONFIG_DESCRIPTION,CONFIG_GROUP,VALUE_TYPE,VALUE_GENERATOR,DEFAULT_VALUE)
values ('IMGSRVPRT','Image Server Port','General','NUMER',null,null);

____________________________________________________________________________________________________________

rename table items to skus;

alter table skus CHANGE ITEM_CODE SKU_CODE VARCHAR(50)  NOT NULL;

alter table skus CHANGE ITEM_NAME SKU_NAME VARCHAR(50)  NOT NULL;

ALTER TABLE ITEM_IMAGES CHANGE ITEM_ID SKU_ID INT NOT NULL;

ALTER TABLE INVENTORY CHANGE ITEM_ID SKU_ID INT NOT NULL;

ALTER TABLE PURCHASE_LINES CHANGE ITEM_ID SKU_ID INT NOT NULL;

ALTER TABLE SALESPERIOD_LINES CHANGE ITEM_ID SKU_ID INT NOT NULL;

ALTER TABLE SALES_LINES CHANGE ITEM_ID SKU_ID INT NOT NULL;

ALTER TABLE SALESLEAD_LINES CHANGE ITEM_ID SKU_ID INT NOT NULL;

ALTER TABLE WISHLIST_LINES CHANGE ITEM_ID SKU_ID INT NOT NULL;

ALTER TABLE DISTRIBUTION_ORDER_LINES CHANGE ITEM_ID SKU_ID INT NOT NULL;

delete from METADATA where entity = 'ITEM';
INSERT INTO METADATA(ENTITY,CLASS_NAME) VALUES('SKU','com.rainbow.crm.item.model.Sku');


CREATE TABLE ITEMS (
ID INT PRIMARY KEY AUTO_INCREMENT,
COMPANY_ID INT NOT NULL,
ITEM_CODE VARCHAR(50)  NOT NULL,
ITEM_NAME VARCHAR(50)  NOT NULL,
DESCRIPTION VARCHAR(100),
PRODUCT_ID INT NOT NULL,
MANUFACTURER VARCHAR(50),
ITEM_CLASS  VARCHAR(10),
UOM_ID INT NOT NULL,
PURCHASE_PRICE FLOAT,
MAX_PRICE FLOAT,
RETAIL_PRICE  FLOAT,
WHOLESALE_PRICE FLOAT,
BREAK_EVEN_PRICE FLOAT,
PROMOTION_PRICE FLOAT,
MAX_DISCOUNT FLOAT,
ON_PROMOTION BOOLEAN DEFAULT FALSE,
SPECIFICATION VARCHAR(250),
IS_DELETED BOOLEAN DEFAULT FALSE,
CREATED_DATE DATETIME,
LAST_UPDATED_DATE DATETIME,
CREATED_BY VARCHAR(50),
LAST_UPDATED_BY VARCHAR(50),
VERSION INT DEFAULT 1,
FOREIGN KEY (COMPANY_ID) REFERENCES COMPANIES(ID),
FOREIGN KEY (PRODUCT_ID) REFERENCES CATEGORIES(ID),
FOREIGN KEY (UOM_ID) REFERENCES UOMS(ID)
);


INSERT INTO METADATA(ENTITY,CLASS_NAME) VALUES('ITEM','com.rainbow.crm.item.model.Item');

ALTER TABLE SKUS ADD  ITEM_ID INT 
ALTER TABLE SKUS ADD FOREIGN KEY (ITEM_ID) REFERENCES ITEMS(ID)
update skus set item_id = (select id from items where skus.sku_code = items.item_code)



ALTER TABLE SALESPERIOD_LINES CHANGE  SKU_ID ITEM_ID  INT NOT NULL;
INSERT INTO BASE_CONFIGURATION(CODE,CONFIG_DESCRIPTION,CONFIG_GROUP,VALUE_TYPE,VALUE_GENERATOR,DEFAULT_VALUE)
values ('IMGSRVURL','Image Server URL','General','STR',null,null);

__________________________________________________________________________________________
9-JAN-17

INSERT INTO FINITE_VALUE_TYPE (CODE, DESCRIPTION) VALUES ('SPFTYPE', 'SALES PORTFOLIO TYPE');
INSERT INTO FINITE_VALUES(CODE,TYPE_CODE,DESCRIPTION) VALUES ('SPFCATG','SPFTYPE','Category');
INSERT INTO FINITE_VALUES(CODE,TYPE_CODE,DESCRIPTION) VALUES ('SPFPROD','SPFTYPE','Product');
INSERT INTO FINITE_VALUES(CODE,TYPE_CODE,DESCRIPTION) VALUES ('SPFBRAND','SPFTYPE','Brand');
INSERT INTO FINITE_VALUES(CODE,TYPE_CODE,DESCRIPTION) VALUES ('SPFITEM','SPFTYPE','Item');


CREATE TABLE SALESASSOCIATE_PORTFLIOS (
ID INT PRIMARY KEY AUTO_INCREMENT,
COMPANY_ID INT NOT NULL,
DIVISION_ID INT NOT NULL,
USER_ID VARCHAR(50) NOT NULL,
START_DATE DATETIME,
END_DATE DATETIME,
IS_EXPIRED BOOLEAN DEFAULT FALSE,
IS_VOIDED BOOLEAN DEFAULT FALSE,
COMMENTS VARCHAR(200),
CREATED_DATE DATETIME,
LAST_UPDATED_DATE DATETIME,
CREATED_BY VARCHAR(50),
LAST_UPDATED_BY VARCHAR(50),
VERSION INT DEFAULT 1,
FOREIGN KEY (COMPANY_ID) REFERENCES COMPANIES(ID),
FOREIGN KEY (DIVISION_ID) REFERENCES DIVISIONS(ID),
FOREIGN KEY (USER_ID) REFERENCES USERS(USER_ID)
);

CREATE TABLE SAPORTFOLIO_LINES (
ID INT PRIMARY KEY ,
COMPANY_ID INT NOT NULL,
PORTFOLIO_ID INT NOT NULL,
LINE_NUMBER INT NOT NULL,
PORTFOLIO_TYPE  VARCHAR(10) NOT NULL,
PORTFOLIO_KEY VARCHAR(10) NOT NULL,
IS_VOIDED BOOLEAN DEFAULT FALSE,
COMMENTS VARCHAR(200),
CREATED_DATE DATETIME,
LAST_UPDATED_DATE DATETIME,
CREATED_BY VARCHAR(50),
LAST_UPDATED_BY VARCHAR(50),
VERSION INT DEFAULT 1,
FOREIGN KEY (COMPANY_ID) REFERENCES COMPANIES(ID),
FOREIGN KEY (PORTFOLIO_TYPE) REFERENCES FINITE_VALUES(CODE)
);

CREATE TABLE BRANDS (
ID INT PRIMARY KEY AUTO_INCREMENT,
COMPANY_ID INT NOT NULL,
BRAND_CODE VARCHAR(20)  NOT NULL,
BRAND_NAME VARCHAR(50)  NOT NULL,
DESCRIPTION VARCHAR(100),
IS_DELETED BOOLEAN DEFAULT FALSE,
CREATED_DATE DATETIME,
LAST_UPDATED_DATE DATETIME,
CREATED_BY VARCHAR(50),
LAST_UPDATED_BY VARCHAR(50),
VERSION INT DEFAULT 1,
FOREIGN KEY (COMPANY_ID) REFERENCES COMPANIES(ID)
);


ALTER TABLE ITEMS ADD BRAND_ID INT ;

ALTER TABLE ITEMS ADD FOREIGN KEY (BRAND_ID) REFERENCES BRANDS(ID);

_____________________________________________________________________----
15-jan-17

CREATE TABLE SALESPERIOD_ASSOCIATES (
ID INT PRIMARY KEY ,
COMPANY_ID INT NOT NULL,
SALES_PERIOD_ID INT NOT NULL,
PERIOD VARCHAR(50) NOT NULL,
LINE_NUMBER INT NOT NULL,
USER_ID VARCHAR(50) NOT NULL,
LINE_TOTAL FLOAT NOT NULL,
COMMENTS VARCHAR(200),
IS_VOIDED BOOLEAN DEFAULT FALSE,
CREATED_DATE DATETIME,
LAST_UPDATED_DATE DATETIME,
CREATED_BY VARCHAR(50),
LAST_UPDATED_BY VARCHAR(50),
VERSION INT DEFAULT 1,
FOREIGN KEY (COMPANY_ID) REFERENCES COMPANIES(ID),
FOREIGN KEY (USER_ID) REFERENCES USERS(USER_ID),
FOREIGN KEY (SALES_PERIOD_ID) REFERENCES SALES_PERIODS(ID)
);